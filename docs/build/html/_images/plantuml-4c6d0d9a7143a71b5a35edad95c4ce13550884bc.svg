<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="421px" preserveAspectRatio="none" style="width:629px;height:421px;" version="1.1" viewBox="0 0 629 421" width="629px" zoomAndPan="magnify"><defs><filter height="300%" id="fdmga3nr8nzq5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fdmga3nr8nzq5)" height="126.8241" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434" y="186.186"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="37" x2="37" y1="89.0679" y2="331.01"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="176.5" x2="176.5" y1="89.0679" y2="331.01"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="310.5" x2="310.5" y1="89.0679" y2="331.01"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="439" x2="439" y1="89.0679" y2="331.01"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="581.5" x2="581.5" y1="89.0679" y2="331.01"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="8" y="84.9659">Usuario</text><ellipse cx="37" cy="13" fill="#FEFECE" filter="url(#fdmga3nr8nzq5)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M37,21 L37,48 M24,29 L50,29 M37,48 L24,63 M37,48 L50,63 " fill="none" filter="url(#fdmga3nr8nzq5)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="8" y="344.976">Usuario</text><ellipse cx="37" cy="359.0779" fill="#FEFECE" filter="url(#fdmga3nr8nzq5)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M37,367.0779 L37,394.0779 M24,375.0779 L50,375.0779 M37,394.0779 L24,409.0779 M37,394.0779 L50,409.0779 " fill="none" filter="url(#fdmga3nr8nzq5)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fdmga3nr8nzq5)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="126.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="133.5" y="72.9659">Django View</text><rect fill="#FEFECE" filter="url(#fdmga3nr8nzq5)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="126.5" y="330.01"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="133.5" y="351.976">Django View</text><rect fill="#FEFECE" filter="url(#fdmga3nr8nzq5)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="283.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="290.5" y="72.9659">Redis</text><rect fill="#FEFECE" filter="url(#fdmga3nr8nzq5)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="283.5" y="330.01"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="290.5" y="351.976">Redis</text><rect fill="#FEFECE" filter="url(#fdmga3nr8nzq5)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="383" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="390" y="72.9659">Celery Worker</text><rect fill="#FEFECE" filter="url(#fdmga3nr8nzq5)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="383" y="330.01"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="390" y="351.976">Celery Worker</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="540.5" y="84.9659">PostgreSQL</text><path d="M564,34 C564,24 582,24 582,24 C582,24 600,24 600,34 L600,60 C600,70 582,70 582,70 C582,70 564,70 564,60 L564,34 " fill="#FEFECE" filter="url(#fdmga3nr8nzq5)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M564,34 C564,44 582,44 582,44 C582,44 600,44 600,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="540.5" y="344.976">PostgreSQL</text><path d="M564,359.0779 C564,349.0779 582,349.0779 582,349.0779 C582,349.0779 600,349.0779 600,359.0779 L600,385.0779 C600,395.0779 582,395.0779 582,395.0779 C582,395.0779 564,395.0779 564,385.0779 L564,359.0779 " fill="#FEFECE" filter="url(#fdmga3nr8nzq5)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M564,359.0779 C564,369.0779 582,369.0779 582,369.0779 C582,369.0779 600,369.0779 600,359.0779 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#fdmga3nr8nzq5)" height="126.8241" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="434" y="186.186"/><polygon fill="#A80036" points="165,118.7739,175,122.7739,165,126.7739,169,122.7739" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="171" y1="122.7739" y2="122.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="44" y="116.9649">Clica em "Importar"</text><polygon fill="#A80036" points="299,150.4799,309,154.4799,299,158.4799,303,154.4799" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="177" x2="305" y1="154.4799" y2="154.4799"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="184" y="148.6709">Envia Tarefa (Task)</text><polygon fill="#A80036" points="422,182.186,432,186.186,422,190.186,426,186.186" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="311" x2="428" y1="186.186" y2="186.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="318" y="180.377">Entrega Tarefa</text><polygon fill="#A80036" points="570,213.892,580,217.892,570,221.892,574,217.892" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444" x2="576" y1="217.892" y2="217.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="451" y="212.083">Cria Tabela Staging</text><polygon fill="#A80036" points="570,245.598,580,249.598,570,253.598,574,249.598" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444" x2="576" y1="249.598" y2="249.598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="451" y="243.789">Insere Dados</text><polygon fill="#A80036" points="570,277.304,580,281.304,570,285.304,574,281.304" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444" x2="576" y1="281.304" y2="281.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="451" y="275.495">Salva Log</text><polygon fill="#A80036" points="322,309.01,312,313.01,322,317.01,318,313.01" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="316" x2="438" y1="313.01" y2="313.01"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="328" y="307.201">Retorna Sucesso</text><!--MD5=[e9137c2cf9eed3c6b2369b4b2231a624]
@startuml
actor Usuario
participant "Django View" as V
participant "Redis" as R
participant "Celery Worker" as W
database "PostgreSQL" as DB

Usuario -> V: Clica em "Importar"
V -> R: Envia Tarefa (Task)
R -> W: Entrega Tarefa
activate W
W -> DB: Cria Tabela Staging
W -> DB: Insere Dados
W -> DB: Salva Log
W - -> R: Retorna Sucesso
deactivate W

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.8+9-Ubuntu-0ubuntu124.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: pt
Country: BR
--></g></svg>